{"name": "OpenDataScienceLab_skdata_categorize", "language": "py", "prompt": "def categorize(\n    data, col_name: str = None, new_col_name: str = None,\n    categories: dict = None, max_categories: float = 0.15\n):\n    \"\"\"\n    :param data:\n    :param col_name:\n    :param new_col_name:\n    :param categories:\n    :param max_categories: : : threshold of categories\n    :return: : categories\n    :rtype dict:\n    \"\"\"", "tests": "", "completions": ["\n    assert col_name is not None, \"col_name is required\"\n    assert new_col_name is not None, \"new_col_name is required\"\n\n    if categories is None:\n        categories = {}\n\n    if col_name in categories:\n        return categories[col_name]\n\n    values = data[col_name].unique()\n    if len(values) <= max_categories * len(data):\n        categories[col_name] = {\n            value: i for i, value in enumerate(values)\n        }\n        return categories[col_name]\n    else:\n        return None\n"], "stop_tokens": ["\ndef", "\n#", "\nif", "\nclass"], "tokens": [], "softmax": []}