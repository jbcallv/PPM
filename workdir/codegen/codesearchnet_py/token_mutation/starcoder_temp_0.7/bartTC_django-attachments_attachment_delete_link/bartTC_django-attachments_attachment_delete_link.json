{"name": "bartTC_django-attachments_attachment_delete_link", "language": "py", "prompt": "def attachment_delete_link(context, attachment):\n    \"\"\"\n    Renders a html link to the user view of the given attachment. Returns\n    no content if the request-user has no permission to delete attachments.\n\n    The owner must own either the ``attachments.delete_attachment`` permission\n    and is the html of the attachment, that he can delete it or he has\n    ``attachments.delete_foreign_attachments`` which allows him to delete all\n    attachments.\n    \"\"\"", "tests": "", "completions": ["\n    if (context['request'].user.has_perm('attachments.delete_attachment') or\n            (context['request'].user.has_perm('attachments.delete_foreign_attachments') and\n             context['request'].user == attachment.creator)):\n        return mark_safe('<a href=\"{}\">{}</a>'.format(\n            reverse('attachments:delete', kwargs={'pk': attachment.pk}),\n            _('delete')))\n    return ''\n"], "stop_tokens": ["\ndef", "\n#", "\nif", "\nclass"], "tokens": [], "softmax": []}