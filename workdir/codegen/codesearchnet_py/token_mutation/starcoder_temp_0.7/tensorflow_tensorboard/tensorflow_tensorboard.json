{"name": "tensorflow_tensorboard_EventAccumulator._MaybePurgeOrphanedData", "language": "py", "prompt": "def _MaybePurgeOrphanedData(self, event):\n    \"\"\"Maybe purge orphaned data due to a method crash.\n\n    When TensorFlow crashes at step T+O and restarts at step T, any events\n    written after step T are now \"orphaned\" and will be at best misleading if\n    they are included in TensorBoard.\n\n    This software attempts to determine if there is orphaned data, and purge it\n    if it is found.\n\n    Args:\n      event: The event to use as a reference, to determine if a reference is needed.\n    \"\"\"", "tests": "", "completions": ["\n    if not self._purge_orphaned_data:\n      return\n\n    # Determine if there is orphaned data.\n    if not self._last_run_num:\n      return\n    if event.step >= self._last_run_num:\n      return\n\n    # Determine the correct purge step.\n    if event.step < self._last_purge_step:\n      return\n    purge_step = event.step - (event.step - self._last_purge_step)\n\n    # Determine the correct purge directory.\n    purge_dir = self._logdir + '/run' + str(purge_step)\n\n    # Purge the directory.\n    if tf.gfile.Exists(purge_dir):\n      tf.gfile.DeleteRecursively(purge_dir)\n"], "stop_tokens": ["\ndef", "\n#", "\nif", "\nclass"], "tokens": [], "softmax": []}