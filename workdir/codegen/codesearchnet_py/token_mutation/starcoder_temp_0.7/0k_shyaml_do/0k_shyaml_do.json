{"name": "0k_shyaml_do", "language": "py", "prompt": "def do(stream, action, key, default=None, dump=yaml_dump,\n       loader=ShyamlSafeLoader):\n    \"\"\"Return string representations of target value in stream YAML\n\n    The key is used for action of the YAML structure to target\n    the value that will be dumped.\n\n    :param stream:  file like input yaml content\n    :param action:  string identifying one of the possible supported actions\n    :param key:     string dotted expression to traverse yaml input\n    :param default: optional default : in case of missing end value when\n                    traversing input yaml.  (default is ``None``)\n    :param dump:    callable that will be given python objet to dump in yaml\n                    (default is ``yaml_dump``)\n    :param loader:  PyYAML's *Loader subclass to parse YAML\n                    (default is ShyamlSafeLoader)\n    :return:        generator of string representation of target value per\n                    YAML docs in the given stream.\n\n    :raises ActionTypeError: when there's a type mismatch between the\n        action selected and the type of the targetted value.\n        (ie: action 'key-values' on non-struct)\n    :raises InvalidAction: when selected action is not a recognised valid\n        action identifier.\n    :raises InvalidPath: upon inexistent manipulation when traversing YAML\n        input following the key specification.\n\n    \"\"\"", "tests": "", "completions": ["\n    if not callable(dump):\n        raise TypeError(\n            \"dump should be a callable, but is: {0!r}\".format(dump))\n\n    if not issubclass(loader, yaml.Loader):\n        raise TypeError(\n            \"loader should be a yaml.Loader subclass, \"\n            \"but is: {0!r}\".format(loader))\n\n    try:\n        with closing(stream) as fd:\n            for yaml_content in yaml.load_all(fd, Loader=loader):\n                if not isinstance(yaml_content, dict):\n                    raise ActionTypeError(\n                        \"Can't {0} a non-struct: {1!r}\".format(action,\n                                                                yaml_content))\n\n                yield dump_action(yaml_content, action, key, default)\n\n    except yaml.YAMLError as exc:\n        raise yaml.YAMLError(exc)\n"], "stop_tokens": ["\ndef", "\n#", "\nif", "\nclass"], "tokens": [], "softmax": []}